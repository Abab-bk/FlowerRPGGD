[gd_scene load_steps=40 format=3 uid="uid://863bf1a44uea"]

[ext_resource type="PackedScene" uid="uid://cxf6a06c26omo" path="res://Scenes/Base/CharacterEntity.tscn" id="1_egjb1"]
[ext_resource type="Script" path="res://Scripts/Players/Player.cs" id="1_i1d4v"]
[ext_resource type="Texture2D" uid="uid://cfjnr4gnol1qg" path="res://Assets/Characters/BaseMale.png" id="3_oshk5"]

[sub_resource type="AtlasTexture" id="AtlasTexture_t3q65"]
atlas = ExtResource("3_oshk5")
region = Rect2(0, 0, 80, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_d2jnw"]
atlas = ExtResource("3_oshk5")
region = Rect2(80, 0, 80, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_rcv6b"]
atlas = ExtResource("3_oshk5")
region = Rect2(160, 0, 80, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_7af77"]
atlas = ExtResource("3_oshk5")
region = Rect2(240, 0, 80, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_wkvfw"]
atlas = ExtResource("3_oshk5")
region = Rect2(320, 0, 80, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_6q0pa"]
atlas = ExtResource("3_oshk5")
region = Rect2(0, 128, 80, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_7olyg"]
atlas = ExtResource("3_oshk5")
region = Rect2(80, 128, 80, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_1acd2"]
atlas = ExtResource("3_oshk5")
region = Rect2(160, 128, 80, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_6g3p0"]
atlas = ExtResource("3_oshk5")
region = Rect2(240, 128, 80, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_b6r8b"]
atlas = ExtResource("3_oshk5")
region = Rect2(320, 128, 80, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_4oe12"]
atlas = ExtResource("3_oshk5")
region = Rect2(400, 128, 80, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_1ohfk"]
atlas = ExtResource("3_oshk5")
region = Rect2(480, 128, 80, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_g8t2h"]
atlas = ExtResource("3_oshk5")
region = Rect2(560, 128, 80, 64)

[sub_resource type="SpriteFrames" id="SpriteFrames_4le4w"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_t3q65")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_d2jnw")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_rcv6b")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_7af77")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_wkvfw")
}],
"loop": true,
"name": &"Idle",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_6q0pa")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_7olyg")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_1acd2")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_6g3p0")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_b6r8b")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_4oe12")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_1ohfk")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_g8t2h")
}],
"loop": true,
"name": &"Running",
"speed": 10.0
}]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_fcvs6"]
size = Vector2(17, 44)

[sub_resource type="StateConfig" id="StateConfig_ts4ni"]
state_name = &"Idle"
type = 1
editor_offset = Vector2(200, 100)

[sub_resource type="StateConfig" id="StateConfig_yk6gi"]
state_name = &"Running"
editor_offset = Vector2(560, 100)

[sub_resource type="VariableConfig" id="VariableConfig_ea1g3"]
variable_name = &"ToRunning"
resource_name = "ToRunning: Trigger"

[sub_resource type="VariableExpressionConfig" id="VariableExpressionConfig_4eq4k"]
variable_config = SubResource("VariableConfig_ea1g3")
trigger_type = 0

[sub_resource type="TransitionConfig" id="TransitionConfig_5mfad"]
from_state_config = SubResource("StateConfig_ts4ni")
to_state_config = SubResource("StateConfig_yk6gi")
type = 2
and_mode = true
variable_expression_config_list = Array[VariableExpressionConfig]([SubResource("VariableExpressionConfig_4eq4k")])

[sub_resource type="VariableConfig" id="VariableConfig_8rm1o"]
variable_name = &"ToIdle"
resource_name = "ToIdle: Trigger"

[sub_resource type="VariableExpressionConfig" id="VariableExpressionConfig_kpkx5"]
variable_config = SubResource("VariableConfig_8rm1o")
trigger_type = 0

[sub_resource type="TransitionConfig" id="TransitionConfig_fvb5v"]
from_state_config = SubResource("StateConfig_yk6gi")
to_state_config = SubResource("StateConfig_ts4ni")
type = 2
and_mode = true
variable_expression_config_list = Array[VariableExpressionConfig]([SubResource("VariableExpressionConfig_kpkx5")])

[sub_resource type="FSMConfig" id="FSMConfig_sxhcr"]
state_config_list = Array[StateConfig]([SubResource("StateConfig_ts4ni"), SubResource("StateConfig_yk6gi")])
transition_config_list = Array[TransitionConfig]([SubResource("TransitionConfig_5mfad"), SubResource("TransitionConfig_fvb5v")])
variable_config_list = Array[VariableConfig]([SubResource("VariableConfig_8rm1o"), SubResource("VariableConfig_ea1g3")])

[sub_resource type="StateConfig" id="StateConfig_lef7p"]
state_name = &"Idle"
type = 1
editor_offset = Vector2(213, 103.01)

[sub_resource type="StateConfig" id="StateConfig_evlhb"]
state_name = &"Attacking"
editor_offset = Vector2(680, 100)
animation_name = &"Attack"

[sub_resource type="VariableConfig" id="VariableConfig_kxk7k"]
variable_name = &"ToAttacking"
resource_name = "ToAttacking: Trigger"

[sub_resource type="VariableExpressionConfig" id="VariableExpressionConfig_rgali"]
variable_config = SubResource("VariableConfig_kxk7k")
trigger_type = 0

[sub_resource type="TransitionConfig" id="TransitionConfig_d7mdj"]
from_state_config = SubResource("StateConfig_lef7p")
to_state_config = SubResource("StateConfig_evlhb")
type = 2
and_mode = true
variable_expression_config_list = Array[VariableExpressionConfig]([SubResource("VariableExpressionConfig_rgali")])

[sub_resource type="TransitionConfig" id="TransitionConfig_211ql"]
from_state_config = SubResource("StateConfig_evlhb")
to_state_config = SubResource("StateConfig_lef7p")
auto_mode = 1

[sub_resource type="VariableConfig" id="VariableConfig_pw4rn"]
variable_name = &"ToIdle"
resource_name = "ToIdle: Trigger"

[sub_resource type="FSMConfig" id="FSMConfig_ydrde"]
state_config_list = Array[StateConfig]([SubResource("StateConfig_lef7p"), SubResource("StateConfig_evlhb")])
transition_config_list = Array[TransitionConfig]([SubResource("TransitionConfig_d7mdj"), SubResource("TransitionConfig_211ql")])
variable_config_list = Array[VariableConfig]([SubResource("VariableConfig_kxk7k"), SubResource("VariableConfig_pw4rn")])

[sub_resource type="RectangleShape2D" id="RectangleShape2D_u1bff"]
size = Vector2(76, 92)

[sub_resource type="Animation" id="Animation_seycc"]
resource_name = "Attack"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Graphics/WeaponMarker:position")
tracks/0/interp = 2
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.5, 1),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector2(-19, 0), Vector2(21, 0), Vector2(-19, 0)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Graphics/WeaponMarker:rotation")
tracks/1/interp = 4
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.5, 1),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [0.0, 1.5708, 0.0]
}

[sub_resource type="Animation" id="Animation_fc8mh"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Graphics/WeaponMarker:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(-19, 0)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Graphics/WeaponMarker:rotation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.0]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_cq8jt"]
_data = {
"Attack": SubResource("Animation_seycc"),
"RESET": SubResource("Animation_fc8mh")
}

[node name="Player" node_paths=PackedStringArray("InteractionArea", "WeaponMarker") instance=ExtResource("1_egjb1")]
collision_layer = 2
script = ExtResource("1_i1d4v")
InteractionArea = NodePath("InteractionArea")
WeaponMarker = NodePath("Graphics/WeaponMarker")

[node name="WeaponMarker" type="Marker2D" parent="Graphics" index="0"]
position = Vector2(-19, 0)

[node name="AnimatedSprite2D" parent="Graphics" index="1"]
position = Vector2(0, -9)
sprite_frames = SubResource("SpriteFrames_4le4w")
animation = &"Running"
frame_progress = 0.999997
flip_h = true

[node name="CollisionShape2D" parent="." index="1"]
position = Vector2(0.5, 1)
shape = SubResource("RectangleShape2D_fcvs6")

[node name="HFSM" parent="." index="2"]
root_fsm_config = SubResource("FSMConfig_sxhcr")

[node name="HFSM2" type="HFSM" parent="." index="3" node_paths=PackedStringArray("animation_player")]
animation_player = NodePath("../AnimationPlayer")
root_fsm_config = SubResource("FSMConfig_ydrde")

[node name="Camera2D" type="Camera2D" parent="." index="4"]
zoom = Vector2(2.5, 2.5)

[node name="InteractionArea" type="Area2D" parent="." index="5"]
collision_layer = 0
collision_mask = 16

[node name="CollisionShape2D" type="CollisionShape2D" parent="InteractionArea" index="0"]
shape = SubResource("RectangleShape2D_u1bff")
debug_color = Color(0.829516, 0.341638, 0.516487, 0.42)

[node name="AnimationPlayer" type="AnimationPlayer" parent="." index="6"]
libraries = {
"": SubResource("AnimationLibrary_cq8jt")
}
